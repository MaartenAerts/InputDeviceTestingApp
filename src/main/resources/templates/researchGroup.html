<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>Dashboard</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/DeviceTestApp.css}"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <style>
        h2 {
            text-decoration: underline;
        }
    </style>
</head>
<body>


<div class="container">

    <div th:include="navbar :: page"></div>

    <div class="page-header" style="margin-top: 7%">
        <h1 id="containers" align="center">Research Group </h1>
        <h1  th:text="${groupName}"/>
    </div>

    <h2 style="margin-top: 3%">Tests</h2>


    <table class="table table-striped">
        <tr>
            <th>TITLE</th>
            <th>DESCRIPTION</th>
            <th>CREATEDDATE</th>
            <th>MODIFIEDDATE</th>
        </tr>
        <tr> </tr>
        <tr th:each="test : ${Tests}">
                    <td  th:text="${test.title}"/>
                    <td th:text="${test.description}"/>
                    <td th:text="${test.createdDate}"/>
                    <td th:text="${test.modifiedDate}"/>
        </tr>
    </table>


    <p>
        <a th:href="@{/}" class="btn btn-default" role="button">Add Test</a>
    </p>

    <h2>Researchers</h2>
    <table class="table table-striped">
        <tr>
            <th>EMAIL</th>
            <th>    </th>
        </tr>
        <tr th:each="researcher : ${Researchers}">
            <form th:action="@{/deleteResearcher}" method="post" commandName="deleteForm">
                    <td><input  th:value="${researcher.email}"  name="email" readonly="readonly"/></td>
                    <td><input  class="btn btn-default" type="submit" value="Delete"/></td>
            </form>
        </tr>

    </table>

    <h2>New Researcher</h2>

    <form th:action="@{/addResearcher}" action="/addResearcher" method="POST" commandName="researcherForm" >
        <fieldset>
        <table>
            <tr>
                <td><h4 class="col-lg-2 control-label">Email:</h4></td>
                <td><input type="email" name="email" value="" placeholder="email" /></td> <td width="40%" th:text="${ResearcherExists}" class="text-danger"></td>
                <td><input type="submit" value="Add Researcher" class="btn btn-primary control-label"/></td>
            </tr>
        </table>
        </fieldset>
    </form>

    <h2>Group Name</h2>

<form th:action="@{/saveGroup}" action="/saveGroup" method="POST" commandName="saveGroupForm">
    <fieldset>
        <table>
            <tr>
                <td><h4  class="col-lg-2 control-label">Name:</h4></td>
                <td><input type="text" name="groupName" value="" placeholder="groupName" th:value="${groupName}" /></td> <td  th:text="${Error}" class="text-danger"></td>
            </tr>
            <tr>
                <td><input type="submit" class="btn btn-primary control-label" value="Save Group" /></td>
            </tr>
        </table>
    </fieldset>
    <!--a th:action="@{/saveGroup}" action="/saveGroup" class="btn btn-default" role="button" >Save Group</a  onclick="location.href='/register.htm'" -->
</form>

</div>
</body>

</html>